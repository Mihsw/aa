<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="msas/styl4.css">
    <link rel="icon" type="image/x-icon" href="/images/logo.png">
    <title>Logowanie/Rejestracja</title>
    <link rel="stylesheet" href="msas/login.css">
</head>
<body class="c5body">
<span id="user-points" style="display: none;">0</span>
    <header class="hheader">
        <div style="display: flex;align-items: center;">
            <div class="ico">
                <img src="images/logo.png" alt="logo">
            </div>
            <span style="color: var(--complementary5);margin-left: 0.5rem;font-size: 1.25rem;"><a href="about.html" class="menuob">About Us</a></span>
        </div>
        <nav style="color: var(--font-color);">
            <a href="home.html" class="menuob"><i class="fas fa-home icon"></i></a>
            <a href="resources.html" class="menuob"><i class="fas fa-book icon"></i></a>
            <a href="settings.html" class="menuob"><i class="fas fa-cog icon"></i></a>
            <a href="login.html" class="menuob"><i class="fas fa-user icon"></i></a>
        </nav>
    </header>

    <main>

        <div class="form-container" id="login-form">
            <h2>Logowanie</h2>
            <input type="text" id="login-username" placeholder="Nazwa użytkownika" required>
            <input type="password" id="login-password" placeholder="Hasło" required>
            <button onclick="handleLogin()">Zaloguj się</button>
            <span class="toggle-link" onclick="toggleFormRL()">Nie masz konta? Zarejestruj się</span>
        </div>

        <div class="form-container" id="register-form" style="display: none;">
            <h2>Rejestracja</h2>
            <input type="text" id="register-username" placeholder="Nazwa użytkownika" required>
            <input type="password" id="register-password" placeholder="Hasło" required>
            <input type="password" id="register-password2" placeholder="Powtórz hasło" required>
            <button onclick="handleRegister()">Zarejestruj się</button>
            <span class="toggle-link" onclick="toggleFormRL()">Masz już konto? Zaloguj się</span>
        </div>

        <div class="form-container" id="logout-form" style="display: none;">
            <h1 id="userName"></h1>
            <h2>Wylogowanie</h2>
            <button onclick="handleLogout()">Wyloguj się</button>
        </div>
    </main>

    <section>
        <button onclick="back()" class="backbutton">Back/Home</button>
    </section>

    <footer style="position:absolute;bottom: -0%;">
        <span>&copy; 2025 EduGames | <a href="about.html">O nas</a> | <a href="resources.html">Materiały edukacyjne</a> | <a href="mailto:our.e-mail@edu.eu">our.e-mail@edu.eu</a> | <a href="tel:+48126662137">+48 126 662 137</a></span>
    </footer>

    <script src="msas/login.js"></script>
    <script>
        toggleForm()

        function updateUserNameGreeting() {
            const loggedInUser = getCookie && getCookie('loggedInUser')
            const userNameElem = document.getElementById('userName')
            if (userNameElem) {
                    userNameElem.textContent = `Hello, ${loggedInUser}`
            }
        }

        updateUserNameGreeting()

        const origHandleLogin = window.handleLogin
        window.handleLogin = function() {
            origHandleLogin()
            updateUserNameGreeting()
        }
        const origHandleRegister = window.handleRegister
        window.handleRegister = function() {
            origHandleRegister()
            updateUserNameGreeting()
        }
        const origHandleLogout = window.handleLogout
        window.handleLogout = function() {
            origHandleLogout()
            updateUserNameGreeting()
        }
    </script>
    <script src="msas/main.js"></script>
</body>
</html>